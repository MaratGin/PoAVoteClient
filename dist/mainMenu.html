<!-- dist/mainMenu.html -->

<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main Menu</title>
  <link rel="stylesheet" href="mainMenu.css">
</head>
<body>
  <div class="container">
    <h1>Main Menu</h1>
    <button id="createVoteButton">Создать голосование</button>
    <button id="joinVoteButton">Подключиться к голосованию</button>
    <button id="backButton">Back</button>
  </div>

  <!-- Модальное окно -->
  <div id="joinVoteModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Подключиться к голосованию</h2>
      <label for="inviteCode">Введите код приглашения:</label>
      <input type="text" id="inviteCode" name="inviteCode" required>
      <button id="joinVoteSubmitButton">Подключиться</button>
    </div>
  </div>

  <script>
    // Открытие модального окна
    document.getElementById('joinVoteButton').addEventListener('click', () => {
      document.getElementById('joinVoteModal').style.display = 'block';
    });

    // Закрытие модального окна
    document.querySelector('.close').addEventListener('click', () => {
      document.getElementById('joinVoteModal').style.display = 'none';
    });

    // Закрытие модального окна при клике вне его
    window.addEventListener('click', (event) => {
      if (event.target === document.getElementById('joinVoteModal')) {
        document.getElementById('joinVoteModal').style.display = 'none';
      }
    });

    // Обработка ввода кода приглашения
    document.getElementById('joinVoteSubmitButton').addEventListener('click', () => {
      const inviteCode = document.getElementById('inviteCode').value;
      // Здесь можно добавить логику для обработки кода приглашения
      console.log(`Invite Code: ${inviteCode}`);
      alert(`Invite Code: ${inviteCode}`); // Удалите или замените эту строку на реальную логику
      document.getElementById('joinVoteModal').style.display = 'none';
      window.electron.send('navigate-to', 'dist/userVoting.html');
    });

    document.getElementById('createVoteButton').addEventListener('click', () => {
      window.electron.send('navigate-to', 'dist/createVote.html');
    });

    document.getElementById('backButton').addEventListener('click', () => {
      window.electron.send('navigate-to', 'dist/index.html');
    });
  </script>
</body>
</html>
